# Health Tab - Quick Reference

## Visual Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš¡ Power Monitor              [Today][7 Days][30 Days][365 Days]â”‚
â”‚                                                    [Health][Help] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  ğŸ¥ System Health                                                â”‚
â”‚  Real-time monitoring of system resources and data collection    â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ ğŸ’¾ Disk Usage       â”‚  â”‚ ğŸ§  Memory Usage     â”‚              â”‚
â”‚  â”‚      33.3%          â”‚  â”‚      50.2%          â”‚              â”‚
â”‚  â”‚ 0.08 GB used of     â”‚  â”‚ 128.5 MB used of    â”‚              â”‚
â”‚  â”‚ 0.24 GB (0.16 free) â”‚  â”‚ 256 MB (127.5 avail)â”‚              â”‚
â”‚  â”‚ â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚  â”‚ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                   â”‚
â”‚  ğŸ“Š Data Collection Status                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Last Collection (IST)  â”‚  Next Collection In  â”‚ Interval â”‚   â”‚
â”‚  â”‚ 2024-01-15 16:00:00    â”‚       8:45          â”‚10 minutesâ”‚   â”‚
â”‚  â”‚                        â”‚ 8 minutes remaining  â”‚          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â”‚  ğŸ“¤ GitHub Sync Status                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Configuration â”‚    Repository        â”‚ Last Publish (IST)â”‚   â”‚
â”‚  â”‚ âœ… Configured â”‚ username/powerstats  â”‚ 2024-01-15 16:05 â”‚   â”‚
â”‚  â”‚               â”‚                      â”‚                   â”‚   â”‚
â”‚  â”‚    Status: Success âœ“                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â”‚  ğŸ”„ Auto-refreshing every 10 seconds                             â”‚
â”‚  Last updated: 16:08:30                                          â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Color Coding

### Disk/Memory Progress Bars
- **Green** (< 75%): `â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘` Normal operation
- **Orange** (75-89%): `â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘` Warning - consider cleanup
- **Red** (â‰¥ 90%): `â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“` Critical - action needed

### Status Indicators
- **âœ… Configured**: GitHub is set up correctly (Green)
- **âŒ Not Configured**: GitHub needs setup (Red)
- **Success**: Last operation successful (Green)
- **Error/Failed**: Last operation failed (Red)
- **Unknown**: Status not determined (Orange)

## Data Refresh Behavior

### Auto-Refresh (Every 10 seconds)
1. Fetches fresh data from `/health.cgi`
2. Updates all metrics simultaneously
3. Restarts countdown timer
4. Shows "Last updated" timestamp

### Countdown Timer (Every 1 second)
1. Shows time until next data collection
2. Format: `MM:SS` (e.g., `8:45`)
3. Text updates: "8 minutes remaining" â†’ "45 seconds remaining"
4. When reaches 0: Shows "Collecting..."

## Key Features

### ğŸ“Š Metrics Displayed
1. **Disk Usage**: Total/Used/Free space in GB + percentage
2. **Memory Usage**: Total/Used/Available in MB + percentage
3. **Last Collection**: When data was last collected (IST timezone)
4. **Next Collection**: Countdown timer to next collection
5. **GitHub Status**: Configuration state and last publish time

### ğŸ”„ Auto-Refresh
- Background fetch every 10 seconds
- No page reload required
- Smooth UI updates
- Visual indicators for refresh status

### â±ï¸ Live Countdown
- Real-time countdown timer
- Updates every second
- Shows minutes and seconds
- Automatic reset on data collection

### ğŸ¨ Visual Feedback
- Color-coded progress bars
- Status icons (âœ…/âŒ)
- Smooth animations
- Responsive layout

## Access

1. Open dashboard: `http://your-luckfox-ip/`
2. Click **Health** tab in navigation
3. View real-time metrics
4. Leave tab open for continuous monitoring

## Mobile View

On mobile devices (< 768px width):
- Stacked layout (1 column)
- Touch-friendly tap targets
- Optimized font sizes
- Full-width cards

## Troubleshooting Quick Reference

| Issue | Likely Cause | Quick Fix |
|-------|--------------|-----------|
| Health tab shows "Error" | health.cgi not accessible | Check lighttpd running |
| Disk shows 0% | psutil not installed | `apk add py3-psutil` |
| Memory shows 0% | psutil cannot read | Check permissions |
| "Never" for Last Collection | No data collected yet | Run collector manually |
| Countdown not working | daily.json missing | Check data directory |
| GitHub shows "Not Configured" | Missing GitHub token | Edit config.json |
| Auto-refresh stops | JavaScript error | Check browser console |

## API Endpoint

Direct access to health data:
```bash
curl http://localhost/health.cgi | python3 -m json.tool
```

Returns JSON with all metrics shown in the UI.
